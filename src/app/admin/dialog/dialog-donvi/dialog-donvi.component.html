<app-progress-spinner-overlay *ngIf="isLoading"></app-progress-spinner-overlay>
<div class="h-25 bg-success text-white head-from">
  <div class="row">
    <div class="col-11 mt-2">
      <h1 class="pl-4">
        {{ isEdit ? ("suadonvi" | translate) : ("themdonvi" | translate) }}
      </h1>
      <!-- <h1 class="p-2">{{ "addbasetype" | translate }}</h1> -->
    </div>
    <div class="col-1 mt-2">
      <b class="text-white h2" (click)="closedialog()">X</b>
    </div>
  </div>
</div>
<form [formGroup]="myForm">
  <div class="m-2 my-2">
    <mat-form-field class="w-100">
      <mat-label>Tên đơn vị</mat-label>
      <input
        matInput
        formControlName="tenDv"
        placeholder="Vd: VNPT-IT"
        [(ngModel)]="tenDv"
        required
      />
      <mat-error
        *ngIf="myForm.get('tenDv')!.invalid && myForm.get('tenDv')!.touched"
        >Vui lòng nhập tên đơn vị !!</mat-error
      >
    </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Địa chỉ</mat-label>
      <input
        matInput
        formControlName="diaChi"
        placeholder="Vd: Tiền giang"
        [(ngModel)]="diaChi"
        required
      />
      <mat-error
        *ngIf="myForm.get('diaChi')!.invalid && myForm.get('diaChi')!.touched"
        >Vui lòng nhập địa chỉ !!</mat-error
      >
    </mat-form-field>
     <mat-form-field class="w-100">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          formControlName="email"
          placeholder="Vd: dinhb1910364@student.ctu.vn"
          [(ngModel)]="email"
          required
        />
        <mat-error
          *ngIf="myForm.get('email')!.invalid && myForm.get('email')!.touched"
          >Vui lòng nhập email !!</mat-error
        >
      </mat-form-field>
    <mat-form-field class="w-100">
      <mat-label>Số điện thoại</mat-label>
      <!-- <span matPrefix>+1 &nbsp;</span> -->
      <input
        type="text"
        matInput
        formControlName="soDt"
        [(ngModel)]="soDt"
        placeholder="Vd: 0342303842"
        required
        maxlength="10"
        (input)="onPhoneNumberInput($event)"
        #input
      />
      <mat-hint align="end">Số tối đa {{ input.value.length }}/10</mat-hint>
      <!-- <mat-icon matSuffix>mode_edit</mat-icon> -->
      <mat-error
        *ngIf="myForm.get('soDt')!.invalid && myForm.get('soDt')!.touched"
        >Vui lòng nhập số điện thoại !!</mat-error
      >
    </mat-form-field>
  </div>
</form>
<div class="row m-3">
  <div class="col-md-12 mt-2 mb-2">
    <button
      class="btn btn-success float-right ml-2"
      *ngIf="!isEditMode"
      (click)="themDonVi(tenDv, diaChi, soDt, email)"
    >
      {{ "add" | translate }}
    </button>

    <button
      class="btn btn-success float-right ml-2"
      *ngIf="isEditMode"
      (click)="suaDonVi(id, tenDv, diaChi, soDt, email)"
    >
      {{ "edit" | translate }}
    </button>
    <button class="btn btn-primary float-right" (click)="refreshForm()">
      {{ "refresh" | translate }}
    </button>
    <button class="btn btn-danger mr-2 float-right" (click)="closedialog()">
      {{ "close" | translate }}
    </button>
  </div>
</div>
